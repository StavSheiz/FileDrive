[{"C:\\GitProjects\\FileDrive\\file-drive-client\\src\\index.tsx":"1","C:\\GitProjects\\FileDrive\\file-drive-client\\src\\reportWebVitals.ts":"2","C:\\GitProjects\\FileDrive\\file-drive-client\\src\\App.tsx":"3","C:\\GitProjects\\FileDrive\\file-drive-client\\src\\errors\\ErrorContext.tsx":"4","C:\\GitProjects\\FileDrive\\file-drive-client\\src\\enums\\ENUMExceptionCodes.ts":"5","C:\\GitProjects\\FileDrive\\file-drive-client\\src\\login\\logic\\user-service.ts":"6","C:\\GitProjects\\FileDrive\\file-drive-client\\src\\login\\logic\\login-error-messages.ts":"7","C:\\GitProjects\\FileDrive\\file-drive-client\\src\\files-tree\\components\\FilesTree.tsx":"8","C:\\GitProjects\\FileDrive\\file-drive-client\\src\\login\\components\\Login.tsx":"9","C:\\GitProjects\\FileDrive\\file-drive-client\\src\\login\\components\\SignUp.tsx":"10","C:\\GitProjects\\FileDrive\\file-drive-client\\src\\consts\\base-error-messages.ts":"11","C:\\GitProjects\\FileDrive\\file-drive-client\\src\\enums\\ENUMModalType.ts":"12","C:\\GitProjects\\FileDrive\\file-drive-client\\src\\login\\logic\\login-logic.ts":"13","C:\\GitProjects\\FileDrive\\file-drive-client\\src\\files-tree\\api\\tree-api.ts":"14","C:\\GitProjects\\FileDrive\\file-drive-client\\src\\files-tree\\helpers\\tree-helpers.ts":"15","C:\\GitProjects\\FileDrive\\file-drive-client\\src\\files-tree\\components\\contextMenu\\TreeContextMenu.tsx":"16","C:\\GitProjects\\FileDrive\\file-drive-client\\src\\files-tree\\components\\SideTree.tsx":"17","C:\\GitProjects\\FileDrive\\file-drive-client\\src\\files-tree\\components\\CurrentTreeEntity.tsx":"18","C:\\GitProjects\\FileDrive\\file-drive-client\\src\\files-tree\\components\\modals\\EditPermissionsModal.tsx":"19","C:\\GitProjects\\FileDrive\\file-drive-client\\src\\login\\api\\login-api.ts":"20","C:\\GitProjects\\FileDrive\\file-drive-client\\src\\appConfig.ts":"21","C:\\GitProjects\\FileDrive\\file-drive-client\\src\\enums\\ENUMUserType.ts":"22","C:\\GitProjects\\FileDrive\\file-drive-client\\src\\enums\\ENUMPermissionType.ts":"23","C:\\GitProjects\\FileDrive\\file-drive-client\\src\\files-tree\\components\\contextMenu\\TreeContextMenuTrigger.tsx":"24","C:\\GitProjects\\FileDrive\\file-drive-client\\src\\utils\\api\\axios-request.ts":"25","C:\\GitProjects\\FileDrive\\file-drive-client\\src\\files-tree\\components\\AddTreeEntity.tsx":"26","C:\\GitProjects\\FileDrive\\file-drive-client\\src\\files-tree\\logic\\permissions-logic.ts":"27","C:\\GitProjects\\FileDrive\\file-drive-client\\src\\utils\\log\\logger.ts":"28","C:\\GitProjects\\FileDrive\\file-drive-client\\src\\files-tree\\api\\permissions-api.ts":"29","C:\\GitProjects\\FileDrive\\file-drive-client\\src\\files-tree\\logic\\permissions-error-messages.ts":"30","C:\\GitProjects\\FileDrive\\file-drive-client\\src\\files-tree\\components\\modals\\DetailsModal.tsx":"31","C:\\GitProjects\\FileDrive\\file-drive-client\\src\\files-tree\\logic\\conversion-logic.ts":"32","C:\\GitProjects\\FileDrive\\file-drive-client\\src\\files-tree\\logic\\conversion-error-messages.ts":"33","C:\\GitProjects\\FileDrive\\file-drive-client\\src\\enums\\ENUMConverterType.ts":"34"},{"size":700,"mtime":1615221545317,"results":"35","hashOfConfig":"36"},{"size":425,"mtime":499162500000,"results":"37","hashOfConfig":"36"},{"size":1350,"mtime":1615221545303,"results":"38","hashOfConfig":"36"},{"size":1922,"mtime":1614100537716,"results":"39","hashOfConfig":"36"},{"size":249,"mtime":1615230663498,"results":"40","hashOfConfig":"36"},{"size":450,"mtime":1614100537734,"results":"41","hashOfConfig":"36"},{"size":610,"mtime":1610564092143,"results":"42","hashOfConfig":"36"},{"size":6066,"mtime":1615312801502,"results":"43","hashOfConfig":"36"},{"size":9088,"mtime":1614100537732,"results":"44","hashOfConfig":"36"},{"size":11270,"mtime":1610475365581,"results":"45","hashOfConfig":"36"},{"size":314,"mtime":1609776430516,"results":"46","hashOfConfig":"36"},{"size":65,"mtime":1614242024579,"results":"47","hashOfConfig":"36"},{"size":2838,"mtime":1615221545318,"results":"48","hashOfConfig":"36"},{"size":1942,"mtime":1615230083723,"results":"49","hashOfConfig":"36"},{"size":762,"mtime":1615312557925,"results":"50","hashOfConfig":"36"},{"size":3398,"mtime":1615313044962,"results":"51","hashOfConfig":"36"},{"size":2340,"mtime":1615312939863,"results":"52","hashOfConfig":"36"},{"size":2241,"mtime":1615312960112,"results":"53","hashOfConfig":"36"},{"size":10125,"mtime":1614242024587,"results":"54","hashOfConfig":"36"},{"size":1301,"mtime":1614100537730,"results":"55","hashOfConfig":"36"},{"size":68,"mtime":1609776430515,"results":"56","hashOfConfig":"36"},{"size":53,"mtime":1609776430518,"results":"57","hashOfConfig":"36"},{"size":56,"mtime":1614100537715,"results":"58","hashOfConfig":"36"},{"size":257,"mtime":1614100537722,"results":"59","hashOfConfig":"36"},{"size":2299,"mtime":1614100537738,"results":"60","hashOfConfig":"36"},{"size":1567,"mtime":1614100537718,"results":"61","hashOfConfig":"36"},{"size":3273,"mtime":1614100537728,"results":"62","hashOfConfig":"36"},{"size":415,"mtime":1609776430531,"results":"63","hashOfConfig":"36"},{"size":2239,"mtime":1614100537716,"results":"64","hashOfConfig":"36"},{"size":142,"mtime":1614100537727,"results":"65","hashOfConfig":"36"},{"size":2412,"mtime":1614242024585,"results":"66","hashOfConfig":"36"},{"size":1139,"mtime":1615312759349,"results":"67","hashOfConfig":"36"},{"size":141,"mtime":1615230597837,"results":"68","hashOfConfig":"36"},{"size":63,"mtime":1615229378417,"results":"69","hashOfConfig":"36"},{"filePath":"70","messages":"71","errorCount":0,"warningCount":1,"fixableErrorCount":0,"fixableWarningCount":0,"source":"72","usedDeprecatedRules":"73"},"146mvbs",{"filePath":"74","messages":"75","errorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":"73"},{"filePath":"76","messages":"77","errorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":"73"},{"filePath":"78","messages":"79","errorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":"73"},{"filePath":"80","messages":"81","errorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":"73"},{"filePath":"82","messages":"83","errorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":"73"},{"filePath":"84","messages":"85","errorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":"73"},{"filePath":"86","messages":"87","errorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0},{"filePath":"88","messages":"89","errorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":"73"},{"filePath":"90","messages":"91","errorCount":0,"warningCount":1,"fixableErrorCount":0,"fixableWarningCount":0,"source":"92","usedDeprecatedRules":"73"},{"filePath":"93","messages":"94","errorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":"73"},{"filePath":"95","messages":"96","errorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":"73"},{"filePath":"97","messages":"98","errorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":"73"},{"filePath":"99","messages":"100","errorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":"73"},{"filePath":"101","messages":"102","errorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0},{"filePath":"103","messages":"104","errorCount":0,"warningCount":3,"fixableErrorCount":0,"fixableWarningCount":0,"source":null},{"filePath":"105","messages":"106","errorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0},{"filePath":"107","messages":"108","errorCount":0,"warningCount":1,"fixableErrorCount":0,"fixableWarningCount":0,"source":null},{"filePath":"109","messages":"110","errorCount":0,"warningCount":3,"fixableErrorCount":0,"fixableWarningCount":0,"source":"111","usedDeprecatedRules":"73"},{"filePath":"112","messages":"113","errorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":"73"},{"filePath":"114","messages":"115","errorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":"73"},{"filePath":"116","messages":"117","errorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":"73"},{"filePath":"118","messages":"119","errorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":"73"},{"filePath":"120","messages":"121","errorCount":0,"warningCount":1,"fixableErrorCount":0,"fixableWarningCount":0,"source":"122","usedDeprecatedRules":"73"},{"filePath":"123","messages":"124","errorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":"73"},{"filePath":"125","messages":"126","errorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":"73"},{"filePath":"127","messages":"128","errorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":"73"},{"filePath":"129","messages":"130","errorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":"73"},{"filePath":"131","messages":"132","errorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":"73"},{"filePath":"133","messages":"134","errorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":"73"},{"filePath":"135","messages":"136","errorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":"73"},{"filePath":"137","messages":"138","errorCount":0,"warningCount":2,"fixableErrorCount":0,"fixableWarningCount":0,"source":null},{"filePath":"139","messages":"140","errorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0},{"filePath":"141","messages":"142","errorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0},"C:\\GitProjects\\FileDrive\\file-drive-client\\src\\index.tsx",["143"],"import React from 'react';\r\nimport ReactDOM from 'react-dom';\r\nimport './index.css';\r\nimport App from './App';\r\nimport reportWebVitals from './reportWebVitals';\r\nimport { ErrorContextProvider } from './errors/ErrorContext';\r\nimport { UserService } from './login/logic/user-service';\r\n\r\n\r\nReactDOM.render(\r\n  <React.StrictMode>\r\n    <ErrorContextProvider>\r\n      <App />\r\n    </ErrorContextProvider>\r\n  </React.StrictMode>,\r\n  document.getElementById('root')\r\n);\r\n\r\n// If you want to start measuring performance in your app, pass a function\r\n// to log results (for example: reportWebVitals(console.log))\r\n// or send to an analytics endpoint. Learn more: https://bit.ly/CRA-vitals\r\nreportWebVitals();\r\n",["144","145"],"C:\\GitProjects\\FileDrive\\file-drive-client\\src\\reportWebVitals.ts",[],"C:\\GitProjects\\FileDrive\\file-drive-client\\src\\App.tsx",[],"C:\\GitProjects\\FileDrive\\file-drive-client\\src\\errors\\ErrorContext.tsx",[],"C:\\GitProjects\\FileDrive\\file-drive-client\\src\\enums\\ENUMExceptionCodes.ts",[],"C:\\GitProjects\\FileDrive\\file-drive-client\\src\\login\\logic\\user-service.ts",[],"C:\\GitProjects\\FileDrive\\file-drive-client\\src\\login\\logic\\login-error-messages.ts",[],"C:\\GitProjects\\FileDrive\\file-drive-client\\src\\files-tree\\components\\FilesTree.tsx",[],"C:\\GitProjects\\FileDrive\\file-drive-client\\src\\login\\components\\Login.tsx",[],"C:\\GitProjects\\FileDrive\\file-drive-client\\src\\login\\components\\SignUp.tsx",["146"],"import React from 'react';\r\nimport Grid from '@material-ui/core/Grid';\r\nimport Paper from '@material-ui/core/Paper';\r\nimport { withStyles, Theme } from '@material-ui/core/styles';\r\nimport { ClassNameMap } from '@material-ui/core/styles/withStyles';\r\nimport { Typography, InputAdornment, IconButton, OutlinedInput, InputLabel, FormControl, Button, fade } from '@material-ui/core';\r\nimport { Visibility, VisibilityOff, Clear } from '@material-ui/icons/';\r\nimport logo from '../../logo.svg'\r\nimport { LoginLogic } from '../logic/login-logic';\r\nimport { RouteComponentProps, withRouter } from 'react-router-dom';\r\n\r\n\r\n\r\ntype ISignUpProps = RouteComponentProps & {\r\n    classes: ClassNameMap,\r\n    history: any\r\n}\r\ninterface ISignUpState {\r\n    password: string,\r\n    confirmPassword: string,\r\n    name: string,\r\n    showPassword: boolean,\r\n    showConfirmPassword: boolean,\r\n    errorMessage: string,\r\n    showErrorMessage: boolean\r\n}\r\n\r\nconst styles = (theme: Theme) => ({\r\n    root: {\r\n        flexGrow: 1,\r\n        overflow: 'hidden',\r\n        padding: theme.spacing(0, 3),\r\n    },\r\n    container: {\r\n        maxWidth: 400,\r\n        margin: `${theme.spacing(1)}px auto`,\r\n    },\r\n    loginPaper: {\r\n        padding: theme.spacing(4),\r\n    },\r\n    newAccountPaper: {\r\n        padding: theme.spacing(2),\r\n    },\r\n    signUpButton: {\r\n        backgroundColor: '#2c974b',\r\n        color: '#ffffff',\r\n        width: '100%'\r\n    },\r\n    logo: {\r\n        height: 48,\r\n        width: 48,\r\n        color: '#586069'\r\n    },\r\n    errorPaper: {\r\n        backgroundColor: fade('#cb2431', 0.5),\r\n        padding: theme.spacing(1),\r\n    }\r\n});\r\n\r\nclass SignUp extends React.Component<ISignUpProps, ISignUpState> {\r\n    state: ISignUpState = {\r\n        password: '',\r\n        confirmPassword: '',\r\n        name: '',\r\n        showPassword: false,\r\n        showConfirmPassword: false,\r\n        errorMessage: '',\r\n        showErrorMessage: false\r\n    }\r\n\r\n    handleClickShowPassword = (prop: 'showPassword' | 'showConfirmPassword') => () => {\r\n        this.setState({ ...this.state, [prop]: !this.state[prop] });\r\n    };\r\n\r\n    handleMouseDownPassword = (event: any) => {\r\n        event.preventDefault();\r\n    };\r\n\r\n    handleChange = (prop: string) => (event: any) => {\r\n        this.setState({ ...this.state, [prop]: event.target.value });\r\n    };\r\n\r\n    handleSignUp = async () => {\r\n        const { name, password, confirmPassword } = this.state;\r\n\r\n        const message = await LoginLogic.signUp(name, password, confirmPassword);\r\n\r\n        if (message) {\r\n            this.setState({ ...this.state, showErrorMessage: true, errorMessage: message, password: '', confirmPassword: '' });\r\n        } else {\r\n            this.props.history.push('/login');\r\n        }\r\n    }\r\n\r\n    handleClickCloseError = () => {\r\n        this.setState({ ...this.state, showErrorMessage: false, errorMessage: '' })\r\n    }\r\n\r\n    render() {\r\n        const { classes } = this.props;\r\n        const { password, confirmPassword, showPassword, showConfirmPassword, name, showErrorMessage, errorMessage } = this.state;\r\n\r\n        return (\r\n            <div>\r\n                <div className={classes.root}>\r\n                    <Grid container direction=\"column\" spacing={3} className={classes.container}>\r\n                        <Grid item>\r\n                            <img src={logo} className={classes.logo} />\r\n                        </Grid>\r\n                        <Grid item>\r\n                            <Typography variant=\"h6\">Sign Up to FileDrive</Typography>\r\n\r\n                        </Grid>\r\n                        {showErrorMessage &&\r\n                            <Grid item>\r\n                                <Paper className={classes.errorPaper}>\r\n                                    <Typography variant=\"body2\" className={classes.errorText}>{errorMessage}\r\n                                        <IconButton\r\n                                            onClick={this.handleClickCloseError}\r\n                                            onMouseDown={this.handleMouseDownPassword}\r\n                                            aria-label=\"close error message\"\r\n                                            edge=\"end\"\r\n                                        >\r\n                                            <Clear />\r\n                                        </IconButton>\r\n                                    </Typography>\r\n                                </Paper>\r\n                            </Grid>\r\n                        }\r\n                        <Grid item>\r\n                            <Paper className={classes.loginPaper}>\r\n                                <Grid container direction=\"column\" spacing={3}>\r\n                                    <Grid item>\r\n                                        <Grid container wrap=\"nowrap\" direction=\"column\" spacing={2}>\r\n                                            <Grid item>\r\n                                                <FormControl fullWidth variant=\"outlined\">\r\n\r\n                                                    <InputLabel htmlFor=\"username-input\">Username</InputLabel>\r\n                                                    <OutlinedInput\r\n                                                        fullWidth\r\n                                                        onChange={this.handleChange('name')}\r\n                                                        label=\"Username\"\r\n                                                        id=\"username-input\"\r\n                                                        value={name}\r\n                                                    />\r\n                                                </FormControl>\r\n                                            </Grid>\r\n                                        </Grid>\r\n                                    </Grid>\r\n                                    <Grid item>\r\n                                        <Grid container wrap=\"nowrap\" direction=\"column\" spacing={2}>\r\n                                            <Grid item>\r\n                                                <FormControl fullWidth variant=\"outlined\">\r\n                                                    <InputLabel htmlFor=\"password-input\">Password</InputLabel>\r\n                                                    <OutlinedInput\r\n                                                        fullWidth\r\n                                                        onChange={this.handleChange('password')}\r\n                                                        label=\"Password\"\r\n                                                        id=\"password-input\"\r\n                                                        type={showPassword ? 'text' : 'password'}\r\n                                                        value={password}\r\n                                                        endAdornment={\r\n                                                            <InputAdornment position=\"end\">\r\n                                                                <IconButton\r\n                                                                    onClick={this.handleClickShowPassword('showPassword')}\r\n                                                                    onMouseDown={this.handleMouseDownPassword}\r\n                                                                    aria-label=\"toggle password visibility\"\r\n                                                                    edge=\"end\"\r\n                                                                >\r\n                                                                    {showPassword ? <Visibility /> : <VisibilityOff />}\r\n                                                                </IconButton>\r\n                                                            </InputAdornment>\r\n                                                        }\r\n                                                    />\r\n                                                </FormControl>\r\n                                            </Grid>\r\n                                        </Grid>\r\n                                    </Grid>\r\n                                    <Grid item>\r\n                                        <Grid container wrap=\"nowrap\" direction=\"column\" spacing={2}>\r\n                                            <Grid item>\r\n                                                <FormControl fullWidth variant=\"outlined\">\r\n                                                    <InputLabel htmlFor=\"confirm-password-input\">Confrim password</InputLabel>\r\n                                                    <OutlinedInput\r\n                                                        fullWidth\r\n                                                        onChange={this.handleChange('confirmPassword')}\r\n                                                        label=\"Confirm password\"\r\n                                                        id=\"confirm-password-input\"\r\n                                                        type={showConfirmPassword ? 'text' : 'password'}\r\n                                                        value={confirmPassword}\r\n                                                        endAdornment={\r\n                                                            <InputAdornment position=\"end\">\r\n                                                                <IconButton\r\n                                                                    onClick={this.handleClickShowPassword('showConfirmPassword')}\r\n                                                                    onMouseDown={this.handleMouseDownPassword}\r\n                                                                    aria-label=\"toggle password visibility\"\r\n                                                                    edge=\"end\"\r\n                                                                >\r\n                                                                    {showConfirmPassword ? <Visibility /> : <VisibilityOff />}\r\n                                                                </IconButton>\r\n                                                            </InputAdornment>\r\n                                                        }\r\n                                                    />\r\n                                                </FormControl>\r\n                                            </Grid>\r\n                                        </Grid>\r\n                                    </Grid>\r\n                                    <Grid item>\r\n                                        <Button\r\n                                            className={classes.signUpButton}\r\n                                            variant=\"contained\"\r\n                                            disableRipple\r\n                                            onClick={this.handleSignUp}\r\n                                        >Sign up</Button>\r\n                                    </Grid>\r\n                                </Grid>\r\n                            </Paper>\r\n                        </Grid>\r\n                    </Grid>\r\n                </div>\r\n            </div>\r\n        );\r\n    }\r\n}\r\n\r\nexport default withRouter(withStyles(styles, { withTheme: true })(SignUp));\r\n","C:\\GitProjects\\FileDrive\\file-drive-client\\src\\consts\\base-error-messages.ts",[],"C:\\GitProjects\\FileDrive\\file-drive-client\\src\\enums\\ENUMModalType.ts",[],"C:\\GitProjects\\FileDrive\\file-drive-client\\src\\login\\logic\\login-logic.ts",[],"C:\\GitProjects\\FileDrive\\file-drive-client\\src\\files-tree\\api\\tree-api.ts",[],"C:\\GitProjects\\FileDrive\\file-drive-client\\src\\files-tree\\helpers\\tree-helpers.ts",[],"C:\\GitProjects\\FileDrive\\file-drive-client\\src\\files-tree\\components\\contextMenu\\TreeContextMenu.tsx",["147","148","149"],"C:\\GitProjects\\FileDrive\\file-drive-client\\src\\files-tree\\components\\SideTree.tsx",[],"C:\\GitProjects\\FileDrive\\file-drive-client\\src\\files-tree\\components\\CurrentTreeEntity.tsx",["150"],"C:\\GitProjects\\FileDrive\\file-drive-client\\src\\files-tree\\components\\modals\\EditPermissionsModal.tsx",["151","152","153"],"import React from 'react';\r\nimport { Theme, withStyles, TableContainer, Table, TableHead, TableRow, TableCell, Paper, TableBody, IconButton, Select, MenuItem, Typography } from \"@material-ui/core\";\r\nimport { IBaseModalProps } from '../../interfaces/modal-interafaces';\r\nimport { ClassNameMap } from '@material-ui/core/styles/withStyles';\r\nimport { ITreeEntity } from '../../interfaces/ITreeEntity';\r\nimport { PermissionsLogic } from '../../logic/permissions-logic';\r\nimport { Permission } from '../../../models/Permission';\r\nimport { ENUMPermissionType } from '../../../enums/ENUMPermissionType';\r\nimport { Delete, Edit, Add, Clear } from '@material-ui/icons';\r\nimport { User } from '../../../models/User';\r\nimport { ENUMUserType } from '../../../enums/ENUMUserType';\r\nimport { UserService } from '../../../login/logic/user-service';\r\n\r\n\r\ninterface IEditPermissionsModalProps extends IBaseModalProps {\r\n    classes: ClassNameMap,\r\n}\r\ninterface IEditPermissionsModalState {\r\n    permissions: Permission[],\r\n    users: User[],\r\n    errorMessage: string,\r\n    selectedUser: User | null,\r\n    selectedPermissionType: ENUMPermissionType,\r\n    showErrorMessage: boolean\r\n}\r\n\r\nconst styles = (theme: Theme) => ({\r\n    paper: {\r\n        width: 400,\r\n        backgroundColor: theme.palette.background.paper,\r\n        border: '2px solid #000',\r\n        boxShadow: theme.shadows[5],\r\n        padding: theme.spacing(2, 4, 3),\r\n    },\r\n    errorPaper: {\r\n        backgroundColor: '#cb2431',\r\n        padding: theme.spacing(1),\r\n    }\r\n});\r\n\r\nclass EditPermissionsModal extends React.Component<IEditPermissionsModalProps, IEditPermissionsModalState> {\r\n    state: IEditPermissionsModalState = {\r\n        permissions: [],\r\n        users: [],\r\n        errorMessage: \"\",\r\n        selectedUser: { id: -1, name: '', userType: ENUMUserType.Normal },\r\n        selectedPermissionType: ENUMPermissionType.View,\r\n        showErrorMessage: false\r\n    }\r\n\r\n    getModalStyle = () => {\r\n\r\n        return {\r\n            top: `30%`,\r\n            left: `50%`,\r\n            transform: `translate(-50%, -50%)`,\r\n        };\r\n    }\r\n\r\n    getPermissions = async () => {\r\n        if (this.props.entity) {\r\n            const response = await PermissionsLogic.getPermissions(this.props.entity);\r\n\r\n            if (response.message) {\r\n                this.setState({ errorMessage: response.message, showErrorMessage: true });\r\n            } else if (response.data) {\r\n                this.setState({ permissions: response.data })\r\n                this.setState({ users: this.state.users.filter(this.userExistsInPermissions(response.data)) })\r\n            }\r\n        }\r\n    }\r\n\r\n    getUsers = async () => {\r\n        const response = await PermissionsLogic.getUsers();\r\n\r\n        if (response.message) {\r\n            this.setState({ errorMessage: response.message, showErrorMessage: true });\r\n        } else if (response.data) {\r\n            this.setState({ users: response.data.filter(this.userExistsInPermissions(this.state.permissions)) })\r\n        }\r\n    }\r\n\r\n    userExistsInPermissions = (permissions: Permission[]) => (user: User) => {\r\n        return (!permissions || permissions.findIndex(permission => permission.user.id === user.id) < 0)\r\n            && user.id !== UserService.getCurrentUser()?.id\r\n    }\r\n\r\n    permissionTypeText = {\r\n        [ENUMPermissionType.Edit]: 'Edit',\r\n        [ENUMPermissionType.View]: 'View'\r\n    }\r\n\r\n    componentDidMount() {\r\n        this.getPermissions();\r\n        this.getUsers();\r\n    }\r\n\r\n    handleUserChange = (event: any) => {\r\n        const user = this.state.users.find(user => user.id === event.target.value) || null;\r\n        this.setState({ selectedUser: user })\r\n    }\r\n    handlePermChange = (event: any) => {\r\n        this.setState({ selectedPermissionType: event.target.value })\r\n    }\r\n\r\n    handleDelete = (permission: Permission) => async (event: any) => {\r\n        const message = await PermissionsLogic.DeletePermission(permission)\r\n\r\n        if (message) {\r\n            this.setState({ errorMessage: message, showErrorMessage: true });\r\n        } else {\r\n            this.getPermissions();\r\n        }\r\n    }\r\n\r\n    handleEdit = (permission: Permission) => async (event: any) => {\r\n        const message = await PermissionsLogic.EditPermission(permission)\r\n\r\n        if (message) {\r\n            this.setState({ errorMessage: message, showErrorMessage: true });\r\n        } else {\r\n            this.getPermissions();\r\n        }\r\n    }\r\n\r\n    handleAdd = async (event: any) => {\r\n        if (this.props.entity && this.state.selectedUser && this.state.selectedUser.id != -1) {\r\n            const message = await PermissionsLogic.AddPermission(this.state.selectedUser, this.props.entity, this.state.selectedPermissionType);\r\n\r\n            if (message) {\r\n                this.setState({ errorMessage: message, showErrorMessage: true });\r\n            } else {\r\n                this.getPermissions();\r\n            }\r\n        }\r\n    }\r\n\r\n    handleClickCloseError = () => {\r\n        this.setState({ ...this.state, showErrorMessage: false, errorMessage: '' })\r\n    }\r\n\r\n    render() {\r\n        const { entity, classes } = this.props;\r\n        const { permissions, selectedUser, selectedPermissionType, users, showErrorMessage, errorMessage } = this.state;\r\n\r\n        return (\r\n            <div style={{ ...(this.getModalStyle()), position: 'absolute' }}>\r\n                {showErrorMessage &&\r\n                    <Paper className={classes.errorPaper}>\r\n                        <Typography variant=\"body2\" className={classes.errorText}>{errorMessage}\r\n                            <IconButton\r\n                                onClick={this.handleClickCloseError}\r\n                                aria-label=\"close error message\"\r\n                                edge=\"end\"\r\n                            >\r\n                                <Clear />\r\n                            </IconButton>\r\n                        </Typography>\r\n                    </Paper>\r\n                }\r\n                <TableContainer component={Paper}>\r\n                    <Table className={classes.table} aria-label=\"simple table\">\r\n                        <TableHead>\r\n                            <TableRow>\r\n                                <TableCell>Username</TableCell>\r\n                                <TableCell >Permission</TableCell>\r\n                                <TableCell >Delete</TableCell>\r\n                                <TableCell >Toggle Edit/View</TableCell>\r\n                            </TableRow>\r\n                        </TableHead>\r\n                        <TableBody>\r\n                            {permissions && permissions.map((row) => (\r\n                                <TableRow key={row.id}>\r\n                                    <TableCell component=\"th\" scope=\"row\">\r\n                                        {row.user.name}\r\n                                    </TableCell>\r\n                                    <TableCell >{this.permissionTypeText[row.permissionType]}</TableCell>\r\n                                    <TableCell >\r\n                                        <IconButton color=\"primary\" aria-label=\"delete\" component=\"span\">\r\n                                            <Delete onClick={this.handleDelete(row)} />\r\n                                        </IconButton>\r\n                                    </TableCell>\r\n                                    <TableCell >\r\n                                        <IconButton color=\"primary\" aria-label=\"edit\" component=\"span\">\r\n                                            <Edit onClick={this.handleEdit(row)} />\r\n                                        </IconButton>\r\n                                    </TableCell>\r\n                                </TableRow>\r\n                            ))}\r\n                            {selectedUser && <TableRow>\r\n                                <TableCell>\r\n                                    <Select\r\n                                        labelId=\"userselect\"\r\n                                        id=\"userselect\"\r\n                                        value={selectedUser.id}\r\n                                        onChange={this.handleUserChange}\r\n                                    >\r\n                                        {users && users.map(user => (\r\n                                            <MenuItem value={user.id}>\r\n                                                <em>{user.name}</em>\r\n                                            </MenuItem>\r\n                                        ))}\r\n                                    </Select>\r\n                                </TableCell>\r\n                                <TableCell>\r\n                                    <Select labelId=\"permselect\"\r\n                                        id=\"permselect\"\r\n                                        value={selectedPermissionType}\r\n                                        onChange={this.handlePermChange}>\r\n                                        <MenuItem value={ENUMPermissionType.View}>\r\n                                            {this.permissionTypeText[ENUMPermissionType.View]}\r\n                                        </MenuItem>\r\n                                        <MenuItem value={ENUMPermissionType.Edit}>\r\n                                            {this.permissionTypeText[ENUMPermissionType.Edit]}\r\n                                        </MenuItem>\r\n                                    </Select>\r\n                                </TableCell>\r\n                                <TableCell>\r\n                                    <IconButton color=\"primary\" aria-label=\"add\" component=\"span\">\r\n                                        <Add onClick={this.handleAdd} />\r\n                                    </IconButton>\r\n                                </TableCell>\r\n                            </TableRow>\r\n                            }\r\n                        </TableBody>\r\n                    </Table>\r\n                </TableContainer>\r\n            </ div>\r\n        )\r\n    }\r\n}\r\n\r\nexport default withStyles(styles, { withTheme: true })(EditPermissionsModal)\r\n","C:\\GitProjects\\FileDrive\\file-drive-client\\src\\login\\api\\login-api.ts",[],"C:\\GitProjects\\FileDrive\\file-drive-client\\src\\appConfig.ts",[],"C:\\GitProjects\\FileDrive\\file-drive-client\\src\\enums\\ENUMUserType.ts",[],"C:\\GitProjects\\FileDrive\\file-drive-client\\src\\enums\\ENUMPermissionType.ts",[],"C:\\GitProjects\\FileDrive\\file-drive-client\\src\\files-tree\\components\\contextMenu\\TreeContextMenuTrigger.tsx",["154"],"import TreeContextMenu from \"./TreeContextMenu\";\r\nimport { ContextMenuTrigger } from \"react-contextmenu\";\r\nimport React from 'react';\r\n\r\n\r\nexport const TreeContextMenuTrigger = (props: any) => {\r\n    return React.createElement(ContextMenuTrigger, props)\r\n} ","C:\\GitProjects\\FileDrive\\file-drive-client\\src\\utils\\api\\axios-request.ts",[],"C:\\GitProjects\\FileDrive\\file-drive-client\\src\\files-tree\\components\\AddTreeEntity.tsx",[],"C:\\GitProjects\\FileDrive\\file-drive-client\\src\\files-tree\\logic\\permissions-logic.ts",[],"C:\\GitProjects\\FileDrive\\file-drive-client\\src\\utils\\log\\logger.ts",[],"C:\\GitProjects\\FileDrive\\file-drive-client\\src\\files-tree\\api\\permissions-api.ts",[],"C:\\GitProjects\\FileDrive\\file-drive-client\\src\\files-tree\\logic\\permissions-error-messages.ts",[],"C:\\GitProjects\\FileDrive\\file-drive-client\\src\\files-tree\\components\\modals\\DetailsModal.tsx",[],"C:\\GitProjects\\FileDrive\\file-drive-client\\src\\files-tree\\logic\\conversion-logic.ts",["155","156"],"C:\\GitProjects\\FileDrive\\file-drive-client\\src\\files-tree\\logic\\conversion-error-messages.ts",[],"C:\\GitProjects\\FileDrive\\file-drive-client\\src\\enums\\ENUMConverterType.ts",[],{"ruleId":"157","severity":1,"message":"158","line":7,"column":10,"nodeType":"159","messageId":"160","endLine":7,"endColumn":21},{"ruleId":"161","replacedBy":"162"},{"ruleId":"163","replacedBy":"164"},{"ruleId":"165","severity":1,"message":"166","line":108,"column":29,"nodeType":"167","endLine":108,"endColumn":72},{"ruleId":"157","severity":1,"message":"168","line":3,"column":17,"nodeType":"159","messageId":"160","endLine":3,"endColumn":27},{"ruleId":"157","severity":1,"message":"169","line":9,"column":10,"nodeType":"159","messageId":"160","endLine":9,"endColumn":23},{"ruleId":"157","severity":1,"message":"170","line":15,"column":7,"nodeType":"159","messageId":"160","endLine":15,"endColumn":13},{"ruleId":"157","severity":1,"message":"171","line":1,"column":17,"nodeType":"159","messageId":"160","endLine":1,"endColumn":25},{"ruleId":"157","severity":1,"message":"172","line":5,"column":10,"nodeType":"159","messageId":"160","endLine":5,"endColumn":21},{"ruleId":"173","severity":1,"message":"174","line":127,"column":88,"nodeType":"175","messageId":"176","endLine":127,"endColumn":90},{"ruleId":"157","severity":1,"message":"177","line":143,"column":17,"nodeType":"159","messageId":"160","endLine":143,"endColumn":23},{"ruleId":"157","severity":1,"message":"178","line":1,"column":8,"nodeType":"159","messageId":"160","endLine":1,"endColumn":23},{"ruleId":"157","severity":1,"message":"179","line":1,"column":10,"nodeType":"159","messageId":"160","endLine":1,"endColumn":32},{"ruleId":"157","severity":1,"message":"180","line":2,"column":10,"nodeType":"159","messageId":"160","endLine":2,"endColumn":28},"@typescript-eslint/no-unused-vars","'UserService' is defined but never used.","Identifier","unusedVar","no-native-reassign",["181"],"no-negated-in-lhs",["182"],"jsx-a11y/alt-text","img elements must have an alt prop, either with meaningful text, or an empty string for decorative images.","JSXOpeningElement","'withStyles' is defined but never used.","'duplicateFile' is defined but never used.","'styles' is assigned a value but never used.","'useState' is defined but never used.","'ITreeEntity' is defined but never used.","eqeqeq","Expected '!==' and instead saw '!='.","BinaryExpression","unexpected","'entity' is assigned a value but never used.","'TreeContextMenu' is defined but never used.","'ConversionErrorMessage' is defined but never used.","'ENUMExceptionCodes' is defined but never used.","no-global-assign","no-unsafe-negation"]